(this.webpackJsonprestaurants=this.webpackJsonprestaurants||[]).push([[0],{29:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),s=r.n(a),i=r(15),c=r.n(i),o=r(10),l=r(2),u=r(3),d=r(8),b=r(5),h=r(4),p=(r(24),r(6)),j=r(7);function f(){var e=Object(p.a)(["\nwidth: 100%;\nmargin: 0 1%;\n"]);return f=function(){return e},e}function y(){var e=Object(p.a)(["\nwidth: 100%;\nmargin: 0 auto;\n"]);return y=function(){return e},e}var m=j.a.div(y()),g=j.a.div(f()),O=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=this.props.byState;console.log(t);var r=this.props.byGenre;console.log(r);var a=this.props.byAttire;return console.log(a),Object(n.jsx)(m,{className:"search-restaurants row justify-content-center bg-light",style:{backgroundColor:"Success"},children:Object(n.jsx)("div",{className:"col-md-10",children:Object(n.jsxs)("div",{className:"input-group",children:[Object(n.jsx)("input",{id:"SearchRestaurants",type:"text",className:"form-control","aria-label":"Search Restaurants",onKeyDown:function(t){return e.props.searchRestaurants(t.target.value,t.keyCode)}}),Object(n.jsxs)("div",{className:"input-group-append",children:[Object(n.jsxs)(g,{className:"filter-by-state",children:[Object(n.jsxs)("button",{className:"btn dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Filter By TEST State:  ",t," ",Object(n.jsx)("span",{className:"caret"})]}),Object(n.jsx)("div",{className:"sort-menu dropdown-menu dropdown-menu-right",children:this.props.states.map((function(t,r){return Object(n.jsx)("button",{className:"sort-by dropdown-item "+(e.props.byState===t?"active":""),onClick:function(){return e.props.filterByState(t)},href:"#",children:t},r)}))})]}),Object(n.jsxs)(g,{className:"filter-by-genre",children:[Object(n.jsxs)("button",{style:{backgroundColor:"success",color:"black"},type:"button",className:"btn dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Filter By Genre: ",this.props.byGenre," ",Object(n.jsx)("span",{className:"caret"})]}),Object(n.jsx)("div",{className:"sort-menu dropdown-menu dropdown-menu-right",children:this.props.genres.map((function(t,r){return Object(n.jsx)("button",{className:"sort-by dropdown-item "+(e.props.byGenre===t?"active":""),onClick:function(){return e.props.filterByGenre(t)},href:"#",children:t},r)}))})]}),Object(n.jsxs)(g,{className:"filter-by-attire",children:[Object(n.jsxs)("button",{style:{backgroundColor:"success",color:"black"},className:"btn  dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Filter By Attire:  ",a," ",Object(n.jsx)("span",{className:"caret"})]}),Object(n.jsx)("div",{className:"sort-menu dropdown-menu dropdown-menu-right",children:this.props.attire.map((function(t,r){return Object(n.jsx)("button",{className:"sort-by dropdown-item "+(e.props.byAttire===t?"active":""),onClick:function(){return e.props.filterByAttire(t)},href:"#",children:t},r)}))})]})]})]})})})}}]),r}(a.Component);function v(){var e=Object(p.a)(["\nwidth: 100%;\nmargin: 0 1%;\njustify-content: center;\ndisplay: block;\nalign-items: center;\nfont-size: 1rem;\n"]);return v=function(){return e},e}var x=j.a.table(v()),w=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=0===this.props.restaurants.length;console.log(e);var t=this.props.restaurants;console.log(t);var r=["Name","City","State","Telephone","Genre"];return Object(n.jsx)("div",{className:"mb-3 item-list",children:e?Object(n.jsx)("div",{children:"NO RESULTS FOUND"}):Object(n.jsxs)(x,{cellPadding:5,cellSpacing:5,className:"table table-striped  table-responsive table-hover table-fit",children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{className:"bg-success","font-family":"cursive",children:r.map((function(e,t){return Object(n.jsx)("th",{children:e},t)}))})}),Object(n.jsx)("tbody",{children:t.map((function(e){return Object(n.jsx)("tr",{onClick:function(t){return window.location.href=e.website},children:r.map((function(t,r){return Object(n.jsx)("td",{children:e[t.toLowerCase()]},r)}))},e.id)}))})]})})}}]),r}(a.Component);function C(){var e=Object(p.a)(["\ndisplay: flex;\njustify-content: center;\n& li{\n    margin: 0 0.3rem;\n}\n"]);return C=function(){return e},e}function N(){var e=Object(p.a)(["\njustify-content: center;\ndisplay: block;\nmargin: 0 auto;\nalign-items: center;\nfont-size: 1;\n&:hover{\n    background-color: light grey;\n}\n"]);return N=function(){return e},e}var S=j.a.nav(N()),k=j.a.ul(C()),P=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){for(var e=this,t=[],r=1;r<=Math.ceil(this.props.totalItems/this.props.itemsPerPage);r++)t.push(r);return Object(n.jsx)(S,{children:Object(n.jsx)(k,{className:"pagination",children:t.map((function(t,r){return Object(n.jsx)("li",{className:"page-item "+(e.props.currentPage===t?"active":""),children:Object(n.jsx)("button",{style:{backgroundColor:"#28A744",color:"black"},onClick:function(){return e.props.setCurrentPage(t)},className:"page-link",children:t})},r)}))})})}}]),r}(a.Component),B=(r(26),r(29),function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).state={items:[],states:[],genres:[],attire:[],isLoaded:!1,orderBy:"name",orderDir:"asc",byState:"All",byGenre:"All",queryText:"",currentPage:1,itemsPerPage:10},n.filterByState=n.filterByState.bind(Object(d.a)(n)),n.filterByGenre=n.filterByGenre.bind(Object(d.a)(n)),n.searchRestaurants=n.searchRestaurants.bind(Object(d.a)(n)),n.filterByAttire=n.filterByGenre.bind(Object(d.a)(n)),n.setCurrentPage=n.setCurrentPage.bind(Object(d.a)(n)),n}return Object(u.a)(r,[{key:"setCurrentPage",value:function(e){this.setState({currentPage:e})}},{key:"filterByState",value:function(e){this.setState({byState:e,currentPage:1})}},{key:"filterByGenre",value:function(e){this.setState({byGenre:e,currentPage:1})}},{key:"filterByAttire",value:function(e){this.setState({byAttire:e,currentPage:1})}},{key:"searchRestaurants",value:function(e,t){13===t&&this.setState({queryText:e,currentPage:1})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{headers:{Authorization:"Api-Key q3MNxtfep8Gt"}}).then((function(e){return e.json()})).then((function(t){var r=t.map((function(e){return e})),n=t.map((function(e){return e.state})),a=Object(o.a)(new Set(n)).sort();a.unshift("All");var s=t.map((function(e){return e.genre.split(",")})).flat(),i=Object(o.a)(new Set(s)).sort();i.unshift("All");var c=t.map((function(e){return e.attire.split(",")})).flat(),l=Object(o.a)(new Set(c)).sort();l.unshift("All"),e.setState({items:r,states:a,genres:i,attire:l,isLoaded:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this,r=this.state,a=r.isLoaded,s=r.states,i=r.genres,c=r.attire,o=r.itemsPerPage,l=this.state.items;e="asc"===this.state.orderDir?1:-1,l=l.sort((function(r,n){return r[t.state.orderBy].toLowerCase()<n[t.state.orderBy].toLowerCase()?-1*e:1*e})).filter((function(e){return e.name.toLowerCase().includes(t.state.queryText.toLowerCase())||e.city.toLowerCase().includes(t.state.queryText.toLowerCase())||e.genre.toLowerCase().includes(t.state.queryText.toLowerCase())||e.attire.toLowerCase().includes(t.attire.queryText.toLowerCase())}));var u="";if(u="All"===this.state.byState?l:l.filter((function(e){return e.state===t.state.byState})),u="All"===this.state.byGenre?u:u.filter((function(e){return e.genre.toLowerCase().includes(t.state.byGenre.toLowerCase())})),!a)return Object(n.jsx)("div",{children:"Loading..."});var d=this.state.currentPage*o,b=d-o,h=u.slice(b,d);return Object(n.jsx)("main",{className:"page bg-success",id:"ratings",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-mid-12 bg-white",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(O,{states:s,genres:i,attire:c,byState:this.state.byState,byGenre:this.state.byGenre,byAttire:this.state.byAttire,filterByState:this.filterByState,filterByGenre:this.filterByGenre,filterByAttire:this.filterByAttire,searchRestaurants:this.searchRestaurants}),Object(n.jsx)(w,{restaurants:h}),Object(n.jsx)(P,{currentPage:this.state.currentPage,itemsPerPage:o,totalItems:u.length,setCurrentPage:this.setCurrentPage})]})})})})})}}]),r}(s.a.Component)),A=(r(30),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,35)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),s(e),i(e)}))});r(31).config(),c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(B,{})}),document.getElementById("root")),A()}},[[34,1,2]]]);
//# sourceMappingURL=main.53f77922.chunk.js.map